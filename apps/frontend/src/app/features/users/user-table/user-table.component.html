<!-- Users Table -->
<p-table 
  [value]="users" 
  [paginator]="true" 
  [rows]="10"
  [showCurrentPageReport]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} users"
  styleClass="p-datatable-gridlines"
  responsiveLayout="scroll"
  sortField="id"
  [sortOrder]="1">
  
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
      <th pSortableColumn="firstName">Name <p-sortIcon field="firstName"></p-sortIcon></th>
      <th pSortableColumn="email">E-Mail <p-sortIcon field="email"></p-sortIcon></th>
      <th pSortableColumn="role">Role <p-sortIcon field="role"></p-sortIcon></th>
      <th pSortableColumn="isActive">Status <p-sortIcon field="isActive"></p-sortIcon></th>
      <th class="actions-column" *ngIf="showActions"></th>
    </tr>
  </ng-template>
  
  <ng-template pTemplate="body" let-user>
    <tr class="table-row">
      <td>{{ user.id }}</td>
      <td [class.inactive-text]="!user.isActive">{{ user.firstName }} {{ user.lastName }}</td>
      <td [class.inactive-text]="!user.isActive">{{ user.email }}</td>
      <td>
        <p-tag 
          [value]="user.role" 
          [severity]="user.role === 'ADMIN' ? 'danger' : 'info'">
        </p-tag>
      </td>
      <td>
        <p-tag 
          [value]="user.isActive ? 'Active' : 'Inactive'" 
          [severity]="user.isActive ? 'success' : 'secondary'">
        </p-tag>
      </td>
      <td class="actions-column" *ngIf="showActions">
        <div class="action-buttons">
          <p-button 
            icon="pi pi-pencil"
            severity="info"
            size="small"
            [text]="true"
            pTooltip="Edit"
            (onClick)="onEdit(user)">
          </p-button>
          <p-button 
            *ngIf="user.id !== currentUserId"
            icon="pi pi-trash"
            severity="danger"
            size="small"
            [text]="true"
            pTooltip="Delete"
            (onClick)="onDelete(user)">
          </p-button>
        </div>
      </td>
    </tr>
  </ng-template>
  
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="6" style="text-align: center;">
        No users found.
      </td>
    </tr>
  </ng-template>
</p-table>